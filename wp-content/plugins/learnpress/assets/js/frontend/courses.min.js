!function(e){const{debounce:t}=lodash,s=function(t){const s=t.url||lpGlobalSettings.courses_url,r=t.wrapElement||".lp-archive-courses";return delete t.url,delete t.wrapElement,LP.setUrl(s),e(".lp-archive-courses").addClass("loading"),new Promise((a,n)=>{e.ajax({url:s,data:e.extend({},t||{}),type:"POST",success:t=>{let s=e(t).contents().find(r);e("body").hasClass("twentytwenty")&&".lp-archive-courses"===r&&(s=e(t).filter(r)),s.length>0?e(r).replaceWith(s):e(r).html("LearnPress: No Content."),o(),e("html, body").animate({scrollTop:e(r).offset().top-100},200),a(s),e(".lp-archive-courses").removeClass("loading")},error:t=>{n(),e(".lp-archive-courses").removeClass("loading")}})})},r=t(t=>{t.preventDefault(),s({s:e(t.target).val(),post_type:"lp_course",wrapElement:".learn-press-courses"})},600),a=function(t){let s,r=e(this).parent();for(;!s||!s.length;)s=r.find(".learn-press-courses"),r=r.parent();s.attr("data-layout",this.value),LP.Cookies.set("courses-layout",this.value)},n=function(t){t.preventDefault();let r=e(t.target).attr("href");const a=e('.search-courses input[name="s"]').val();r&&(r=a?r.addQueryVar("s",a):r.removeQueryVar("s"),s({url:r}))},o=function(){e(".lp-archive-courses").on("keyup",'.search-courses input[name="s"]',r).on("change",'input[name="lp-switch-layout-btn"]',a).on("click",".learn-press-pagination .page-numbers",n)};e(document).ready((function(){o(),function(){const t=LP.Cookies.get("courses-layout"),s=e(".lp-courses-bar .switch-layout").find('[name="lp-switch-layout-btn"]');t&&s.filter('[value="'+t+'"]').prop("checked",!0).trigger("change")}()}))}(jQuery);